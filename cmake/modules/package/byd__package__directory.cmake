


include("${BYD_ROOT}/cmake/modules/func/byd__func__return.cmake")

include("${BYD_ROOT}/cmake/modules/EP/byd__EP__arg.cmake")

include("${BYD_ROOT}/cmake/modules/package/byd__package__property.cmake")



##--------------------------------------------------------------------------------------------------------------------##
##  PREFIX  ----------------------------------------------------------------------------------------------------------##
##--------------------------------------------------------------------------------------------------------------------##

function(byd__package__get_prefix package result)

    byd__EP__get_package_argument(${package} GENERAL PREFIX prefix)

    if(NOT prefix)
        set(prefix "${package}-prefix")
    endif()

    if(NOT IS_ABSOLUTE ${prefix})
        set(prefix "${CMAKE_BINARY_DIR}/${prefix}")
    endif()

    byd__func__return(prefix)

endfunction()

##--------------------------------------------------------------------------------------------------------------------##
##  ROOT_DIR  --------------------------------------------------------------------------------------------------------##
##--------------------------------------------------------------------------------------------------------------------##

function(byd__package__get_root_dir package result)

    byd__package__get_prefix(${package} prefix)

    byd__func__return_value("${prefix}/src")

endfunction()

##--------------------------------------------------------------------------------------------------------------------##
##  STAMP_DIR  -------------------------------------------------------------------------------------------------------##
##--------------------------------------------------------------------------------------------------------------------##

function(byd__package__get_stamp_dir package result)

    byd__package__get_root_dir(${package} root_dir)

    byd__func__return_value("${root_dir}/${package}-stamp")

endfunction()

##--------------------------------------------------------------------------------------------------------------------##
##  SCRIPT_DIR  ------------------------------------------------------------------------------------------------------##
##--------------------------------------------------------------------------------------------------------------------##

function(byd__package__get_script_dir package result)

    byd__package__get_root_dir(${package} root_dir)

    byd__func__return_value("${root_dir}/${package}-script")

endfunction()

##--------------------------------------------------------------------------------------------------------------------##
##  SOURCE_DIR  ------------------------------------------------------------------------------------------------------##
##--------------------------------------------------------------------------------------------------------------------##

function(byd__package__get_source_dir package result)

    byd__package__get_root_dir(${package} root_dir)

    byd__func__return_value("${root_dir}/${package}")

endfunction()

##--------------------------------------------------------------------------------------------------------------------##
##  SOURCE_SUB_DIR  --------------------------------------------------------------------------------------------------##
##--------------------------------------------------------------------------------------------------------------------##

function(byd__package__set_source_sub_dir package sub_directory)

    __byd__package__set_property(SOURCE_SUB_DIR "${sub_directory}")

endfunction()

##--------------------------------------------------------------------------------------------------------------------##

function(byd__package__get_source_sub_dir package result)

    __byd__package__get_property(SOURCE_SUB_DIR sub_directory)

    byd__func__return(sub_directory)

endfunction()


##--------------------------------------------------------------------------------------------------------------------##
##  INSTALL_DIR  -----------------------------------------------------------------------------------------------------##
##--------------------------------------------------------------------------------------------------------------------##

function(byd__package__get_install_dir package result)

    byd__package__get_root_dir(${package} root_dir)

    byd__func__return_value("${root_dir}/${package}-install")

endfunction()

##--------------------------------------------------------------------------------------------------------------------##
##  BUILD_DIR  -------------------------------------------------------------------------------------------------------##
##--------------------------------------------------------------------------------------------------------------------##

function(byd__package__get_build_dir package result)

    byd__package__get_source_dir(${package} source_dir)

    byd__EP__get_compile_in_source(${package} compile_in_source)
    if(NOT compile_in_source)
        set(source_dir "${source_dir}-build")
    endif()

    byd__func__return(source_dir)

endfunction()

##--------------------------------------------------------------------------------------------------------------------##
##--------------------------------------------------------------------------------------------------------------------##
##--------------------------------------------------------------------------------------------------------------------##
